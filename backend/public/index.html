<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Vitrine IA</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- LOADING -->
<div id="loading">
  <div class="overlay">
    <h1>ðŸ‡§ðŸ‡· Carregando sistema...</h1>

    <div class="bar-bg">
      <div class="bar" id="bar"></div>
    </div>

    <div id="percent">0%</div>
  </div>
</div>

<!-- APP -->
<div id="app" style="display:none;">
  <h1>ðŸ”¥ Produtos Recomendados</h1>
  <div id="produtos"></div>
</div>

<script src="loading.js"></script>

<script>
fetch('/produtos')
  .then(r => r.json())
  .then(data => {
    const div = document.getElementById('produtos');
    data.forEach(p => {
      div.innerHTML += `
        <div class="card">
          <img src="${p.imagem}">
          <h3>${p.nome}</h3>
          <p>${p.descricao || ''}</p>
          <p>${p.preco}</p>
          <a href="${p.curto}" target="_blank"
             onclick="fetch('/click/${p.nome}')">
             Comprar
          </a>
        </div>
      `;
    });
  });
</script>

</body>
</html>
